<!DOCTYPE html> 
<html lang="en"> 

<head> 
	<meta charset="UTF-8"> 
	<meta http-equiv="X-UA-Compatible"
		content="IE=edge"> 
	<meta name="viewport"
		content="width=device-width, 
				initial-scale=1.0"> 
	<title>TCC</title> 
	<link rel="stylesheet"
		href="css/styledash.css"> 
	<link rel="stylesheet"
		href="css/responsive.css"> 
</head>
<body> 
	<!-- for header part -->
	<header> 

		<div class="logosec"> 
			<div class="logo">Sensores Temperatura</div> 
			<img src= "./images/menu.png"
				class="icn menuicn"
				id="menuicn"
				alt="menu-icon"> 
		</div>
		<div class="searchbar"> 
			<input type="text"
				placeholder="Search"> 
			<div class="searchbtn"> 
			<img src="./images/localizar.png"
					class="icn srchicn"
					alt="search-icon"> 
			</div> 
		</div> 
	</header> 
	<div class="main-container"> 
		<div class="navcontainer"> 
			<nav class="nav"> 
				<div class="nav-upper-options"> 
					<div class="nav-option option1"> 
						<img src= ""
							class="nav-img"
							alt="dashboard"> 
						<h3> Dashboard</h3> 
					</div> 
				</div> 
			</nav> 
		</div> 
		
	<div class="main"> 

			<div class="searchbar2"> 
				<input type="text"
					name=""
					id=""
					placeholder="Search"> 
				<div class="searchbtn"> 
				<img src= "./images/localizar.png"
						class="icn srchicn"
						alt="search-button"> 
				</div> 
			</div> 

			<div class="box-container"> 

				<div class="box box1"> 
					<div class="text"> 
						<h2 class="topic">SENSOR 1</h2>
						<h2 class="topic-heading" id="temperatura1">temperatura1</h2> <!-- Adicionando o ID para acesso via JavaScript -->
					</div> 

					<img src="./images/TEMP.png"
						alt="Views"> 
				</div> 

				<div class="box box2"> 
					<div class="text"> 
						<h2 class="topic-heading">230º</h2> 
						<h2 class="topic">SENSOR 2</h2> 
					</div> 

					<img src= "./images/TEMP.png"
						alt="likes"> 
				</div> 

				<div class="box box3"> 
					<div class="text"> 
						<h2 class="topic-heading">228º</h2> 
						<h2 class="topic">SENSOR 3</h2> 
					</div> 

					<img src="./images/TEMP.png"
						alt="comments"> 
				</div> 

				<div class="box box4"> 
					<div class="text"> 
						<h2 class="topic-heading">229,3º</h2> 
						<h2 class="topic">TENSOR 4</h2> 
					</div> 

					<img src="./images/TEMP.png" alt="published"> 
				</div> 
			</div> 
		</div> 
	</div> 
	<div id="temperaturas"></div>

    <script>
        // Função para buscar as temperaturas do servidor
        function buscarTemperaturas() {
            fetch('/temperaturas') // Endpoint do servidor para buscar as temperaturas
                .then(response => response.json())
                .then(data => {
                    // Atualiza o conteúdo HTML com as temperaturas
                    document.getElementById('temperaturas').innerHTML = `
                        <p>Temperatura 1: ${data.temperatura1}</p>
                        <p>Temperatura 2: ${data.temperatura2}</p>
                        <p>Temperatura 3: ${data.temperatura3}</p>
                    `;
                })
                .catch(error => console.error('Erro ao buscar temperaturas:', error));
        }

        // Chama a função para buscar as temperaturas assim que a página carrega
        window.onload = buscarTemperaturas;
    </script>
<script>
    // Suponha que você tenha recuperado o valor da temperatura1 do servidor e armazenado em uma variável chamada temperatura1
    var temperatura1 = 229; // Exemplo de valor de temperatura1

    // Atualiza o conteúdo da tag h2 com o valor da temperatura1
    document.getElementById('temperatura1').innerText = temperatura1.toFixed(1) + 'º'; // Arredonda para uma casa decimal e adiciona "º" no final
</script>
	<script src="js/scrpritdash.js"></script> 
</body> 
</html>
